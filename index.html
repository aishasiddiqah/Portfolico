<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolico</title>
    <link rel="stylesheet" href="frontend/style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
    </style>
    <script src="frontend/index.js"></script>
</head>
<body>
    <header>
        <section id="title">
            <h1>Portfolico</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="frontend/about.html">About Us</a></li>
                    <li><a href="frontend/contact.html">Contact Us</a></li>
                </ul>
            </nav>
            <button id="button1" onclick="openLogin()">LOGIN</button>
            <button id="button2" onclick="openMenu()">MENU</button>
        </section>
    </header>
    
    <main>
        <section id="intro" class="animate">
            <h2>Showcase your personal projects with a portfolio website that stands out</h2>
        </section>

        <section id="start" class="animate">
            <img src="frontend/images/photographer.jpg" alt="">
            <div id="text">
                <h3>Setting up your own portfolio website is a fantastic way to express who you are as a creative, and to share your talents with the world.</h3>
                <p>Whether you’re a graphic designer, product designer, web developer, writer, illustrator, or are working within some other area of creativity, you need a way to get your work out there. A portfolio website gives your work visibility, putting it in front of the people you want to see it.</p>
            </div>
        </section>

        <section id="build" class="animate">
            <h3>Build your online portfolio with full creative freedom in just 3 easy steps</h3>
            <section id="steps">
                <div>
                    <h4>1</h4>
                    <h5>Select</h5>
                    <p>Select a design from our list of templates</p>
                </div>
                <div id="separator"></div>
                <div>
                    <h4>2</h4>
                    <h5>Customize</h5>
                    <p>Customize the template according to your preferences</p>
                </div>
                <div id="separator"></div>
                <div>
                    <h4>3</h4>
                    <h5>Launch</h5>
                    <p>Launch your website with a few clicks</p>
                </div>
            </section>
        </section>

        <section id="templateSlide" class="animate">
            <h3>Various templates to choose from</h3>
            <section id="templates">
                <section id="slider">
                    <div class="slide">
                        <img src="frontend/images/pottery.jpg" alt="">
                        <p class="card">Pottery</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/photography.jpg" alt="">
                        <p class="card">Photography</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/restaurant.jpg" alt="">
                        <p class="card">Restaurant</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/product.jpg" alt="">
                        <p class="card">Products</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/writing.jpg" alt="">
                        <p class="card">Writing</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/gaming.jpg" alt="">
                        <p class="card">Gaming</p>
                    </div>

                    <div class="slide">
                        <img src="frontend/images/pottery.jpg" alt="">
                        <p class="card">Pottery</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/photography.jpg" alt="">
                        <p class="card">Photography</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/restaurant.jpg" alt="">
                        <p class="card">Restaurant</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/product.jpg" alt="">
                        <p class="card">Products</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/writing.jpg" alt="">
                        <p class="card">Writing</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/gaming.jpg" alt="">
                        <p class="card">Gaming</p>
                    </div>

                    <div class="slide">
                        <img src="frontend/images/pottery.jpg" alt="">
                        <p class="card">Pottery</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/photography.jpg" alt="">
                        <p class="card">Photography</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/restaurant.jpg" alt="">
                        <p class="card">Restaurant</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/product.jpg" alt="">
                        <p class="card">Products</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/writing.jpg" alt="">
                        <p class="card">Writing</p>
                    </div>
                    <div class="slide">
                        <img src="frontend/images/gaming.jpg" alt="">
                        <p class="card">Gaming</p>
                    </div>
                </section>
            </section>
        </section>

        <section id="importance" class="animate">
                <h3>Why a portfolio is important for your career</h3>
                <div id="written">
                    <p>Unlike the static black and white of a traditional resume, an online portfolio brings your work to life. In full color, it makes engaging with your creative output an active and immediate experience.</p>
                    <p>Potential clients and employers get to see right away your accomplishments and what makes you unique. A personal portfolio shows them who you are as a creative professional, the thinking behind your work, and if you’re the right person for a particular job or project.</p>
                </div>
        </section>

        <section id="startNow">
        <h3>Show the world what you do best</h3>
        <h4>Create your online portfolio today with Portfolico</h4>
        <button onclick="openSignup()">START NOW</button>
        </section>
    </main>

    <footer>
        &copy; Portfolico 2025 <br> Aisha Siddiqah
    </footer>

    <section id="popupSignup">
        <section class="signupForm">
            <button onclick="closeSignup()" id="closeBtn">X</button>
            <h2 class="heading">SIGN UP</h2>
            <p id="errorSignup"></p>
            <section class="field">
                <label for="name">NAME</label>
                <input type="text" id="nameSignup" placeholder="Enter name here" required>
            </section>
        
            <section class="field">
                <label for="email">EMAIL</label>
                <input type="email" id="emailSignup" placeholder="Enter email here" required>
            </section>

            <section class="field">
                <label for="password">PASSWORD</label>
                <input type="password" id="passwordSignup" placeholder="Enter your password here" required>
            </section>
            
            <section class="field">
                <label for="confirm">CONFIRM PASSWORD</label>
                <input type="password" id="confirmSignup" placeholder="Confirm your password" required>
            </section>
            
            <section>
                <button id="signupBtn">SIGN UP</button>
            </section>

            <p id="signup-error" style="color: red; display: none;">Please fill in all fields.</p>
        </section>
    </section>

    <section id="popupLogin">
        <section class="loginForm">
            <button onclick="closeLogin()" id="closeBtn">X</button>
            <h2 class="heading">LOGIN</h2>
        
            <section class="field">
                <label for="email">EMAIL</label>
                <input type="email" id="emailLogin" placeholder="Enter email here" required>
            </section>

            <section class="field">
                <label for="password">PASSWORD</label>
                <input type="password" id="passwordLogin" placeholder="Enter your password here" required>
            </section>
            
            <section>
                <button id="loginBtn">LOGIN</button>
            </section>

            <p id="login-error" style="color: red; display: none;">Invalid email or password.</p>
        </section>
    </section>

    <section id="popupMenu">
        <section class="menuForm">
            <button onclick="closeMenu()" id="closeBtn">X</button>
            <h2 class="heading">MENU</h2>
        
            <section class="field">
                <p><a href="index.html">Home</a></p>
            </section>

            <section class="field">
                <p><a href="about.html">About Us</a></p>
            </section>

            <section class="field">
                <p><a href="contact.html">Contact Us</a></p>
            </section>
            
            <section>
                <button id="loginBtn" onclick="openSignup()">Sign Up</button>
            </section>

            <section>
                <button id="loginBtn" onclick="openLogin()">Login</button>
            </section>
        </section>
    </section>

    <script>
        document.getElementById('signupBtn').addEventListener('click', async () => {
  const name = document.getElementById('nameSignup').value.trim();
  const email = document.getElementById('emailSignup').value.trim();
  const password = document.getElementById('passwordSignup').value.trim();
  const confirm = document.getElementById('confirmSignup').value.trim();
  const error = document.getElementById('signup-error');

  if (name && email && password && confirm) {
      try {
          const response = await fetch('http://localhost:4000/api/user/', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify({ name, email, password, confirm }),
          });

          const data = await response.json();

          if (response.ok) {
              alert('Sign Up Successful! Redirecting to Login page...');
              error.style.display = 'none';
              document.getElementById("popupSignup").style.display = "none";
              document.getElementById('popupLogin').style.display = "block";
          } else {
              error.textContent = data.message || 'Sign Up Failed!';
              error.style.display = 'block';
          }
      } catch (err) {
          error.textContent = 'An error occurred. Please try again later.';
          error.style.display = 'block';
      }
  } else {
      error.textContent = 'All fields are required!';
      error.style.display = 'block';
  }
});

// Login Functionality
document.getElementById('loginBtn').addEventListener('click', async () => {
  const email = document.getElementById('emailLogin').value.trim();
  const password = document.getElementById('passwordLogin').value.trim();
  const error = document.getElementById('login-error');

  if (email && password) {
      try {
          const response = await fetch('http://localhost:4000/api/user/login', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json',
              },
              body: JSON.stringify({ email, password }),
          });

          const data = await response.json();

          if (response.ok) {
              alert(`Welcome back, ${data.user.name}!`);
              localStorage.setItem('user', JSON.stringify(data));
              error.style.display = 'none';

              // Redirect to the home page
              document.querySelectorAll('.page').forEach(page => page.classList.add('hidden'));
              document.getElementById('home').classList.remove('hidden');
          } else {
              error.textContent = data.message || 'Invalid email or password.';
              error.style.display = 'block';
          }
      } catch (err) {
          error.textContent = 'An error occurred. Please try again later.';
          error.style.display = 'none';
      }
  } else {
      error.textContent = 'All fields are required!';
      error.style.display = 'block';
  }
});

    </script>
    
</body>
</html>